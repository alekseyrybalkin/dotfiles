#!/bin/bash

if [ -z "${1}" ]; then
    echo "no brightness chosen"
    exit 1
fi
if [[ ! ${1} =~ ^-?[0-9]+$ ]]; then
    echo "not an integer"
    exit 1
fi
if [ ${1} -lt 1 ]; then
    echo "must be greater than or equal to 1"
    exit 1
fi
if [ ${1} -gt 100 ]; then
    echo "must be less than or equal to 100"
    exit 1
fi

PERCENT=${1}
MAX=`cat /sys/class/backlight/intel_backlight/max_brightness`

let VALUE=${MAX}*${PERCENT}/100
echo ${VALUE} | sudo tee /sys/class/backlight/intel_backlight/brightness >/dev/null
