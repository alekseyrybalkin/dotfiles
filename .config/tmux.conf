# tmux.conf

# Copyright (C) 2012-2017 Aleksey Rybalkin

# This file is part of unix-home.

# unix-home is free software: you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation, either version 3 of the License, or
# (at your option) any later version.

# unix-home is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU General Public License for more details.

# You should have received a copy of the GNU General Public License
# along with unix-home.  If not, see <http://www.gnu.org/licenses/>.

set -g prefix C-a
unbind C-b

set -sg escape-time 1
#set -g repeat-time 250

set -g base-index 1
set -g pane-base-index 1

set -g status-fg white
set -g status-bg black
set -g status-interval 20
set -g status-left-length 50
set -g status-right-length 100
set -g status-left '#[fg=colour208]#(whoami) @ #[fg=green]#H#[default]'
set -g status-right '#[fg=colour226]#(backup check)#[fg=colour50] #(test ! -d /var/mail/rybalkin/INBOX/new || test "${USER}" != rybalkin || test `ls /var/mail/rybalkin/INBOX/new/ | wc -l` -eq 0 || ls /var/mail/rybalkin/INBOX/new/ | wc -l)#[default] #[fg=colour69]#(acpi-parse)#[default]#[fg=colour196]#(acpi-parse --emergency)#[default] #[fg=white]#(date +"%A %d %B")#[default] #[fg=colour208]%H:%M#[default]'
#set -g status-right '#[fg=white]#(cut -d " " -f 1-3 /proc/loadavg)#[default] #[fg=colour208]%H:%M#[default]'

bind r source-file ~/.config/tmux.conf \; display "Reloaded!"

bind p split-window -h
bind m split-window -v
if-shell '[[ "$(tmux -V)" =~ tmux.2.. ]]' \
    'bind p split-window -h -c "#{pane_current_path}"; bind m split-window -v -c "#{pane_current_path}"; bind c new-window -c "#{pane_current_path}"'

bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

bind -r H resize-pane -L 1
bind -r J resize-pane -D 1
bind -r K resize-pane -U 1
bind -r L resize-pane -R 1

set -g status-justify centre

setw -g window-status-current-fg red
setw -g window-status-current-bg black
setw -g window-status-current-attr bright

setw -g monitor-activity on
set -g visual-activity on

set-option -g lock-command physlock
unbind x
bind x lock-server
